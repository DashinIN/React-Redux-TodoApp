(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{10:function(t,e,n){t.exports={item:"TodoItem_item__3NgVm",item__content:"TodoItem_item__content__JOWqR",check:"TodoItem_check__2svq0",title:"TodoItem_title__1WVDk",done:"TodoItem_done__33BrM",btn:"TodoItem_btn__1BC1Z"}},15:function(t,e,n){t.exports={form__add:"AddTodoForm_form__add__17F4j",form__input:"AddTodoForm_form__input__3ZHCM",btn:"AddTodoForm_btn__1XZnP"}},21:function(t,e,n){t.exports={list__group:"TodoList_list__group__2n_yj"}},28:function(t,e,n){},36:function(t,e,n){"use strict";n.r(e);var o,r=n(0),c=n.n(r),a=n(6),s=n.n(a),d=(n(28),n(22)),i=n(3),u=n(9),l=n(7),p=n.n(l),j=n(13),b=n(8),f=Object(b.b)("todos/getTodosAsync",function(){var t=Object(j.a)(p.a.mark((function t(e,n){var o,r,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.rejectWithValue,t.prev=1,t.next=4,fetch("https://jsonplaceholder.typicode.com/todos?_limit=5");case 4:if((r=t.sent).ok){t.next=7;break}throw new Error("server error");case 7:return t.next=9,r.json();case 9:return c=t.sent,t.abrupt("return",c);case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",o(t.t0.message));case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,n){return t.apply(this,arguments)}}()),m=Object(b.b)("todos/deleteTodoAsync",function(){var t=Object(j.a)(p.a.mark((function t(e,n){var o,r,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.rejectWithValue,r=n.dispatch,t.prev=1,t.next=4,fetch("https://jsonplaceholder.typicode.com/todos/".concat(e),{method:"DELETE"});case 4:if(c=t.sent,console.log(c),c.ok){t.next=8;break}throw new Error("can't delete");case 8:r(T({id:e})),t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(1),console.log(t.t0.message),t.abrupt("return",o(t.t0.message));case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,n){return t.apply(this,arguments)}}()),h=Object(b.b)("todos/toggleCompleteAsync",function(){var t=Object(j.a)(p.a.mark((function t(e,n){var o,r,c,a,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.rejectWithValue,r=n.dispatch,c=n.getState,a=c().todos.todos.find((function(t){return t.id===e})),t.prev=2,t.next=5,fetch("https://jsonplaceholder.typicode.com/todos/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({completed:!a.completed})});case 5:if(s=t.sent,console.log(s),s.ok){t.next=9;break}throw new Error("can't toggle");case 9:r(k({id:e})),t.next=15;break;case 12:return t.prev=12,t.t0=t.catch(2),t.abrupt("return",o(t.t0.message));case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,n){return t.apply(this,arguments)}}()),_=Object(b.b)("todos/addTodoAsync",function(){var t=Object(j.a)(p.a.mark((function t(e,n){var o,r,c,a,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.rejectWithValue,r=n.dispatch,t.prev=1,c={title:e,userID:1,completed:!1},t.next=5,fetch("https://jsonplaceholder.typicode.com/todos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 5:if((a=t.sent).ok){t.next=8;break}throw new Error("cant add");case 8:return t.next=10,a.json();case 10:s=t.sent,r(y(s)),t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(1),t.abrupt("return",o(t.t0.message));case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e,n){return t.apply(this,arguments)}}()),O=function(t,e){t.status="rejected",t.error=e.payload},x=function(t,e){t.status="loading",t.error=null},v=Object(b.c)({name:"todos",initialState:{todos:[],status:null,error:null},reducers:{addTodo:function(t,e){var n={id:Date.now(),title:e.payload.title};t.todos.push(n)},toggleComplete:function(t,e){var n=t.todos.find((function(t){return t.id===e.payload.id}));n.completed=!n.completed},deleteTodo:function(t,e){t.todos=t.todos.filter((function(t){return t.id!==e.payload.id}))}},extraReducers:(o={},Object(u.a)(o,f.pending,x),Object(u.a)(o,f.fulfilled,(function(t,e){t.status="resolved",t.todos=e.payload})),Object(u.a)(o,_.pending,x),Object(u.a)(o,_.fulfilled,(function(t,e){t.status="resolved",t.error=null})),Object(u.a)(o,f.rejected,O),Object(u.a)(o,m.rejected,O),Object(u.a)(o,h.rejected,O),o)}),g=v.actions,y=g.addTodo,k=g.toggleComplete,T=g.deleteTodo,w=v.reducer,N=n(15),C=n.n(N),E=n(1),A=function(){var t=Object(r.useState)(""),e=Object(d.a)(t,2),n=e[0],o=e[1],c=Object(i.b)();return Object(E.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!=n&&(c(_(n)),o("")),window.scrollTo(0,document.body.scrollHeight)},className:C.a.form__add,children:[Object(E.jsx)("input",{type:"text",className:C.a.form__input,placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u0435\u043b\u043e...",value:n,onChange:function(t){return o(t.target.value)}}),Object(E.jsx)("button",{type:"submit",className:C.a.btn,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})},I=n(10),S=n.n(I),D=function(t){var e=t.id,n=t.title,o=t.completed,r=Object(i.b)();return Object(E.jsxs)("li",{className:S.a.item,children:[Object(E.jsxs)("div",{className:"".concat(S.a.item__content," ").concat(o&&S.a.done),children:[Object(E.jsx)("input",{type:"checkbox",className:S.a.check,checked:o,onChange:function(){return r(h(e))}}),Object(E.jsx)("div",{className:S.a.title,children:n})]}),Object(E.jsx)("button",{className:S.a.btn,onClick:function(){return r(m(e))},children:"Delete"})]})},V=n(39),W=n(38),J=n(21),F=n.n(J),M=function(){var t=Object(i.b)();c.a.useEffect((function(){t(f())}),[t]);var e=Object(i.c)((function(t){return t.todos.todos}));return Object(E.jsx)("ul",{className:F.a.list__group,children:Object(E.jsx)(V.a,{className:"todo-list",children:e.map((function(t){return Object(E.jsx)(W.a,{timeout:200,classNames:"item",children:Object(E.jsx)(D,{id:t.id,title:t.title,completed:t.completed})},t.id)}))})})},B=function(){var t=Object(i.c)((function(t){return t.todos.todos.filter((function(t){return!0===t.completed}))}));return Object(E.jsxs)("h4",{children:["\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435 \u043f\u0443\u043d\u043a\u0442\u044b: ",t.length]})},H=function(){var t=Object(i.c)((function(t){return t.todos})),e=t.status,n=t.error;return c.a.useEffect((function(){document.body.style.cursor="loading"===e?"wait":"auto"}),[e]),Object(E.jsxs)("div",{className:"wrapper",children:[Object(E.jsx)("h1",{children:"My Todo List"}),Object(E.jsx)(A,{}),n&&Object(E.jsxs)("h2",{children:["\u041e\u0448\u0438\u0431\u043a\u0430 ",n]}),Object(E.jsx)(M,{}),Object(E.jsx)(B,{})]})},L=Object(b.a)({reducer:{todos:w}});s.a.render(Object(E.jsx)(c.a.StrictMode,{children:Object(E.jsx)(i.a,{store:L,children:Object(E.jsx)(H,{})})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.932dc7f6.chunk.js.map